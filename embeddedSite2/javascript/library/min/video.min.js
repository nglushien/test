define(function(){return{init:function(){function e(e){var l=(parseInt(e%1e3/100),parseInt(e/1e3%60)),t=parseInt(e/6e4%60),s=parseInt(e/36e5%24);return s=10>s?"0"+s:s,t=10>t?"0"+t:t,l=10>l?"0"+l:l,1>s?t+":"+l:s+":"+t+":"+l}var l,t=$("#videoPlayerContainer>div"),s=t.attr("id"),a=t.data("video-id"),i=t.data("playlist-id"),o=$("body");t.length&&"undefined"!=typeof t&&(l=videojs(s),$("#heroPlayerContainer #heroOverlay").prepend('<div class="spinner"><div class="rect1"></div><div class="rect2"></div><div class="rect3"></div><div class="rect4"></div><div class="rect5"></div></div>'),""!=a?l.catalog.getVideo(a,function(t,s){if(t)console.log("Video error",t);else{var a=s.duration,i=a.toString(),n=i.replace(/\./g,""),r=parseInt(n,10);$(".overlayDuration").html('<i class="icon-video-camera"></i> Video: '+e(r)).show(),$(".overlayTitle").html(s.name).show(),$(".overlayCTA").show(),$(".spinner").remove(),$("#heroImage").on("click tapone",function(){l.catalog.load(s),$("#videoPlayerContainer").addClass("show"),$("#heroImage").addClass("vjs-selected"),$(".vjs-playlist .vjs-playlist-item.vjs-selected .vjs-playlist-thumbnail").addClass("show"),$("#heroOverlay").hide(),l.play(),o.hasClass("header-desktop-fixed")?$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-57},750):o.hasClass("header-mobile-fixed")?$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-60},750):$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-157},750)})}}):""!=i?l.catalog.getPlaylist(i,function(e,t){function s(){if($(".vjs-playlist-ad-overlay").remove(),a>10)clearInterval(n);else if($(".vjs-playlist li").length>=2){clearInterval(n),i=!0,$(".vjs-playlist").bxSlider({minSlides:1,maxSlides:4,infiniteLoop:!1,slideMargin:10,slideWidth:260,moveSlides:1,nextSelector:"#slider-next",prevSelector:"#slider-prev",hideControlOnEnd:!0}),2==$(".vjs-playlist-item").length?($(".vjs-playlist").addClass("twoItems"),$("#heroPlaylistInfoContainer").remove()):3==$(".vjs-playlist-item").length?($(".vjs-playlist,#heroPlaylistInfoContainer").addClass("threeItems"),$(".videoInfo").text($(".vjs-playlist-item").length+" Videos")):4==$(".vjs-playlist-item").length?($(".vjs-playlist,#heroPlaylistInfoContainer").addClass("fourItems"),$(".videoInfo").text($(".vjs-playlist-item").length+" Videos")):($(".vjs-playlist,#heroPlaylistInfoContainer").addClass("manyItems"),$(".videoInfo").text($(".vjs-playlist-item").length+" Videos")),$(".overlayDuration").html('<i class="icon-video-camera"></i> Video: '+$(".vjs-playlist-item:first-child .vjs-playlist-duration").text()),$(".overlayTitle").html($(".vjs-playlist-item:first-child .vjs-playlist-name").text()).show(),$(".overlayCTA").show(),$(".bx-next").html('<i class="icon-play"></i>'),$(".bx-prev").html('<i class="icon-play"></i>'),$(".spinner").remove();var e;for(e=0;e<$(".vjs-playlist-item").length;e++){var s=$(".vjs-playlist-thumbnail img")[e];s.src=t[e].poster}$("#heroPlaylistContainer, #heroPlaylistInfoContainer").fadeIn("fast").addClass("show"),$("#heroImage,.vjs-playlist .vjs-playlist-item").on("click tapone",function(){l.catalog.load($(this)),$("#videoPlayerContainer").addClass("show"),$("#heroImage").addClass("vjs-selected"),$(".vjs-playlist .vjs-playlist-item.vjs-selected .vjs-playlist-thumbnail").addClass("show"),$("#heroOverlay").hide(),l.play(),o.hasClass("header-desktop-fixed")?$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-57},750):o.hasClass("header-mobile-fixed")?$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-60},750):$("html, body").animate({scrollTop:$("#videoPlayerContainer").offset().top-157},750)}),$(".vjs-playlist .vjs-playlist-item").each(function(){$(this).on("click tapone",function(){$(this).find(".vjs-playlist-thumbnail").addClass("show")})})}a++}if(e)console.log("Playlist error",e);else{l.catalog.load(t);var a=0,i=!1,n=setInterval(function(){s()},1e3)}}):l.pause(),$("body,html").bind("scroll mousedown wheel DOMMouseScroll mousewheel keyup",function(e){(e.which>0||"mousedown"==e.type||"mousewheel"==e.type)&&$("html,body").stop()}))}}});